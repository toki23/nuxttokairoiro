(window.webpackJsonp=window.webpackJsonp||[]).push([[4,2],{218:function(e,t,n){"use strict";n.r(t);var o=n(45),component=Object(o.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("NuxtLink",{attrs:{to:"/"}},[e._v("websocket")]),e._v(" "),n("NuxtLink",{attrs:{to:"/viewconfig"}},[e._v("viewconfig")]),e._v(" "),n("NuxtLink",{attrs:{to:"/register"}},[e._v("register")])],1)}),[],!1,null,null,null);t.default=component.exports},240:function(e,t,n){"use strict";n.r(t);n(19);var o=n(232),r=n.n(o),c={middleware:"authenticated",data:function(){return{text:"hello",ws:new WebSocket(this.$url.ws),recieved:"",isConnected:!1}},created:function(){var e=this;this.ws.addEventListener("open",(function(t){console.log("接続が開かれたときに呼び出されるイベント"),e.isConnected=!0})),this.ws.addEventListener("message",(function(t){console.log(t.data),e.recieved=t.data})),this.$store.subscribe((function(e,t){"user/setuserid"===e.type&&console.log(e.payload)}))},methods:{submit:function(){var e=this.$url.http,data={userid:this.$store.state.user.userid,text:this.text};fetch(e,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},referrerPolicy:"no-referrer",body:JSON.stringify(data)})},socket:function(){this.isConnected?this.ws.send(this.text):r.a.warning("まだWebSocketに接続できてないよ")}}},l=n(45),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",[n("Header"),e._v(" "),n("h1",[e._v("WebSocketで通信をしよう")]),e._v(" "),n("p",[e._v("あなたのメールアドレスは　"+e._s(this.$store.state.user.mail))]),e._v(" "),n("p",[e._v("あなたのユーザーidは　"+e._s(this.$store.state.user.userid))]),e._v(" "),n("p",[e._v("以下のデータが送られてきました　："+e._s(this.recieved))]),e._v(" "),n("input",{attrs:{type:"button",value:"websocketに通信"},on:{click:this.socket}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],attrs:{type:"text"},domProps:{value:e.text},on:{input:function(t){t.target.composing||(e.text=t.target.value)}}})],1)])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Header:n(218).default})}}]);